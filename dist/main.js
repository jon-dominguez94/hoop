!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){var s;t.exports=function t(e,i,n){function h(r,a){if(!i[r]){if(!e[r]){var l="function"==typeof s&&s;if(!a&&l)return s(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[r]={exports:{}};e[r][0].call(d.exports,function(t){var i=e[r][1][t];return h(i||t)},d,d.exports,t,e,i,n)}return i[r].exports}for(var o="function"==typeof s&&s,r=0;r<n.length;r++)h(n[r]);return h}({1:[function(t,e,i){"use strict";e.exports=function(){if(!navigator.userAgent.match(/iphone|ipod|ipad/i))return function(){return window.innerHeight};var t,e=Math.abs(window.orientation),i={w:0,h:0};return(t=document.createElement("div")).style.position="fixed",t.style.height="100vh",t.style.width=0,t.style.top=0,document.documentElement.appendChild(t),i.w=90===e?t.offsetHeight:window.innerWidth,i.h=90===e?window.innerWidth:t.offsetHeight,document.documentElement.removeChild(t),t=null,function(){return 90!==Math.abs(window.orientation)?i.h:i.w}}()},{}]},{},[1])(1)},function(t,e,i){"use strict";i.r(e);var s={FRAMERATE:60,DEFAULT_HEIGHT:510,DEFAULT_WIDTH:900,TOUCH_INPUT:navigator.userAgent.match(/(iPhone|iPad|iPod|Android)/i),ENEMY_COUNT:2,ENEMY_SIZE:10,ENEMY_TYPE_NORMAL:1,ENEMY_TYPE_BOMB:2,SCORE_PER_ENEMY:50,SCORE_PER_TICK:.2,ENERGY_PER_ENEMY_DEATH:-20,ENERGY_PER_ENEMY_ENCLOSED:1,ENERGY_PER_BOMB_ENCLOSED:-30,MULTIPLIER_LIMIT:6,HEADER_HEIGHT:30};class n{constructor(t,e){this.x=t||0,this.y=e||0}distanceTo(t){var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)}clonePosition(){return{x:this.x,y:this.y}}interpolate(t,e,i){this.x+=(t-this.x)*i,this.y+=(e-this.y)*i}}class h extends n{constructor(t,e){super(t,e),this.alive=!1}}class o{constructor(t,e){this.major=1,this.minor=0,this.max=e,this.step=t}reset(){this.major=1,this.minor=0}increase(){for(this.minor+=this.step;this.minor>=1;)this.major<this.max&&this.major++,this.minor=1-this.minor}}const r=t=>window.requestAnimationFrame(t)||window.webkitRequestAnimationFrame(t)||window.mozRequestAnimationFrame(t)||window.oRequestAnimationFrame(t)||window.msRequestAnimationFrame(t)||function(t){window.setTimeout(t,1e3/60)};var a=class extends h{constructor(){super(),this.trail=[],this.size=8,this.length=45,this.energy=100,this.animatedEnergy=0}adjustEnergy(t){this.energy=Math.min(Math.max(this.energy+t,0),100)}};var l=class extends h{constructor(){super(),this.scale=.01,this.scaleTarget=1,this.alpha=0,this.alphaTarget=1,this.time=0,this.type=1,this.alive=!0}};var c=class extends h{constructor(t,e,i,s){super(),this.x=t,this.y=e,this.velocity={x:-i+Math.random()*i*2,y:-i+Math.random()*i*2},this.color=s,this.alpha=1,this.fading=!1}};var d=class extends h{constructor(t,e,i,s,n){super(),this.text=t||"",this.x=e||0,this.y=i||0,this.scale=s||1,this.rgb=n||[255,255,255],this.alpha=1}};var u=class{constructor(){this.left=999999,this.top=999999,this.right=0,this.bottom=0}reset(){this.left=999999,this.top=999999,this.right=0,this.bottom=0}inflate(t,e){this.left=Math.min(this.left,t),this.top=Math.min(this.top,e),this.right=Math.max(this.right,t),this.bottom=Math.max(this.bottom,e)}expand(t,e){this.left-=t,this.top-=e,this.right+=t,this.bottom+=e}contains(t,e){return t>this.left&&t<this.right&&e>this.top&&e<this.bottom}size(){return(this.right-this.left+(this.bottom-this.top))/2}center(){return new n(this.left+(this.right-this.left)/2,this.top+(this.bottom-this.top)/2)}toRectangle(){return{x:this.left,y:this.top,width:this.right-this.left,height:this.bottom-this.top}}};var m=class{constructor(){this.context,this.menu=document.getElementById("menu"),this.scorePanel=document.getElementById("score"),this.openSound=document.getElementById("open"),this.closeSound=document.getElementById("close"),this.killSound=document.getElementById("kill"),this.killbombSound=document.getElementById("killbomb"),this.dieSound=document.getElementById("die"),this.upgradeSound=document.getElementById("upgrade"),this.failSound=document.getElementById("fail"),this.mouse={x:0,y:0,previousX:0,previousY:0,velocityX:0,velocityY:0},this.world={width:s.DEFAULT_WIDTH,height:s.DEFAULT_HEIGHT},this.sprites={bomb:null,enemy:null,enemyDyingA:null,enemyDyingB:null},this.dirtyRegions=[],this.playing=!1,this.score=0,this.duration=0,this.difficulty=1,this.multiplier=new o(.2,s.MULTIPLIER_LIMIT),this.frameScore=0,this.frameCount=0,this.timeStart=Date.now(),this.timeLastFrame=Date.now(),this.timeLastSecond=Date.now(),this.timeGameStart=Date.now(),this.timeDelta=0,this.timeFactor=0,this.fps=0,this.fpsMin=1e3,this.fpsMax=0,this.framesThisSecond=0,this.notifications=[],this.intersections=[],this.particles=[],this.enemies=[],this.player=new a}createSprites(){let t,e;(t=document.createElement("canvas")).setAttribute("width",64),t.setAttribute("height",64),(e=t.getContext("2d")).beginPath(),e.arc(32,32,s.ENEMY_SIZE,0,2*Math.PI,!0),e.lineWidth=2,e.strokeStyle="rgba(255,255,255,0.4)",e.fillStyle="rgba(30,144,255,0.9)",e.shadowColor="rgba(60,174,255,0.9)",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=20,e.stroke(),e.fill(),this.sprites.enemy=t,(t=document.createElement("canvas")).setAttribute("width",64),t.setAttribute("height",64),(e=t.getContext("2d")).beginPath(),e.arc(32,32,1.4*s.ENEMY_SIZE,0,2*Math.PI,!0),e.lineWidth=2,e.strokeStyle="rgba(255,255,255,0.4)",e.fillStyle="rgba(216,191,216, 0.9)",e.shadowColor="rgba(255,231,255,0.9)",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=20,e.stroke(),e.fill(),this.sprites.enemyDyingA=t,(t=document.createElement("canvas")).setAttribute("width",64),t.setAttribute("height",64),(e=t.getContext("2d")).beginPath(),e.arc(32,32,1.4*s.ENEMY_SIZE,0,2*Math.PI,!0),e.lineWidth=2,e.strokeStyle="rgba(255,255,255,0.4)",e.fillStyle="rgba(216,191,216, 0.9)",e.shadowColor="rgba(255,231,255,0.9)",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=10,e.stroke(),e.fill(),this.sprites.enemyDyingB=t,(t=document.createElement("canvas")).setAttribute("width",64),t.setAttribute("height",64),(e=t.getContext("2d")).beginPath(),e.arc(32,32,s.ENEMY_SIZE,0,2*Math.PI,!0),e.lineWidth=2,e.fillStyle="rgba(220,50,50, 0.9)",e.strokeStyle="rgba(255,255,255,0.4)",e.shadowColor="rgba(255,100,100,0.9)",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=10,e.stroke(),e.fill(),this.sprites.bomb=t}reset(){this.player=new a,this.player.x=this.mouse.x,this.player.y=this.mouse.y,this.notifications=[],this.intersections=[],this.particles=[],this.enemies=[],this.score=0,this.duration=0,this.playing=!1,this.difficulty=1,this.multiplier.reset(),this.frameCount=0,this.frameScore=0,this.timeStart=0,this.timeLastFrame=0}update(){this.clear(),this.playing&&(this.context.save(),this.context.globalCompositeOperation="lighter",this.updateMeta(),this.updatePlayer(),this.updateParticles(),this.findIntersections(),this.solveIntersections(),this.renderPlayer(),this.updateEnemies(),this.renderEnemies(),this.renderParticles(),this.context.restore(),this.renderNotifications()),0!==this.score&&this.renderHeader(),r(this.update.bind(this))}clear(){for(let e=this.dirtyRegions.length-1;e>=0;e--){var t=this.dirtyRegions[e];this.context.clearRect(Math.floor(t.x),Math.floor(t.y),Math.ceil(t.width),Math.ceil(t.height))}this.dirtyRegions=[]}start(){this.reset(),this.openSound.currentTime=0,this.openSound.play(),this.timeStart=Date.now(),this.timeLastFrame=this.timeStart,this.playing=!0;const t=document.getElementById("initial-header");t&&t.remove(),document.getElementById("score").classList.add("hidden"),this.menu.classList.add("fade-out"),setTimeout(()=>{this.menu.classList.add("behind")},700)}stop(){this.closeSound.currentTime=0,this.closeSound.play(),this.scorePanel.style.display="block",document.getElementById("score-p").innerHTML=Math.floor(this.score),this.playing=!1,this.menu.classList.remove("behind"),this.menu.classList.remove("fade-out"),document.getElementById("score").classList.remove("hidden")}invalidate(t,e,i,s){this.dirtyRegions.push({x:t,y:e,width:i,height:s})}updatePlayer(){for(this.player.interpolate(this.mouse.x,this.mouse.y,.4);this.player.trail.length<this.player.length;)this.player.trail.push(new n(this.player.x,this.player.y));this.player.trail.shift(),0===this.player.energy&&this.stop()}renderPlayer(){this.context.beginPath();const t=new u;for(let s=0;s<this.player.trail.length;s++){var e=this.player.trail[s],i=this.player.trail[s+1];0===s?this.context.moveTo(e.x+(i.x-e.x)/2,e.y+(i.y-e.y)/2):i&&this.context.quadraticCurveTo(e.x,e.y,e.x+(i.x-e.x)/2,e.y+(i.y-e.y)/2),t.inflate(e.x,e.y)}this.context.strokeStyle="#BA55D3",this.context.lineWidth=2,this.context.stroke(),t.expand(4,4);var s=t.toRectangle();this.invalidate(s.x,s.y,s.width,s.height)}adjustScore(t){let e=0;return this.playing&&(e=t*this.multiplier.major,this.score+=e*(this.fps/s.FRAMERATE)),e}updateMeta(){const t=Date.now();this.framesThisSecond++,t>this.timeLastSecond+1e3&&(this.fps=Math.min(Math.round(1e3*this.framesThisSecond/(t-this.timeLastSecond)),s.FRAMERATE),this.fpsMin=Math.min(this.fpsMin,this.fps),this.fpsMax=Math.max(this.fpsMax,this.fps),this.timeLastSecond=t,this.framesThisSecond=0),this.timeDelta=t-this.timeLastFrame,this.timeFactor=this.timeDelta/(1e3/s.FRAMERATE),this.difficulty+=.002*Math.max(this.timeFactor,1),this.adjustScore(1),this.frameCount++,this.frameScore++,this.duration=t-this.timeStart,this.timeLastFrame=t}renderHeader(){this.player.animatedEnergy+=.2*(this.player.energy-this.player.animatedEnergy),this.context.fillStyle="rgba(0,0,0,0.5)",this.context.fillRect(0,0,this.world.width,s.HEADER_HEIGHT),this.context.save(),this.context.translate(10,10),this.context.font="10px Arial",this.context.fillStyle="#ffffff",this.context.fillText("ENERGY:",0,8),this.context.translate(56,0),this.context.save(),this.context.fillStyle="rgba(40,40,40,0.8)",this.context.fillRect(0,2,100,4),this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,this.context.shadowBlur=14,this.context.shadowColor="rgba(255,0,255, 0.9)",this.context.fillStyle="rgba(255,0,255, 0.8)",this.context.fillRect(0,2,this.player.animatedEnergy/100*100,4),this.context.restore(),this.context.translate(122,0),this.context.font="10px Arial",this.context.fillStyle="#ffffff",this.context.fillText("TIME:",0,8),this.context.font="bold 10px Arial",this.context.fillStyle="rgb(255,0,255)",this.context.fillText(Math.round(this.duration/1e3)+"s",35,8),this.context.translate(70,0),this.context.font="10px Arial",this.context.fillStyle="#ffffff",this.context.fillText("SCORE:",0,8),this.context.font="bold 10px Arial",this.context.fillStyle="rgb(255,0,255)",this.context.fillText(Math.floor(this.score),47,8),this.context.translate(90,0),this.context.font="10px Arial",this.context.fillStyle="#ffffff",this.context.fillText("MULTIPLIER:",0,8),this.context.translate(73,0);for(var t=s.MULTIPLIER_LIMIT-1;t--;){this.context.save(),this.context.beginPath();const e=6+t/s.MULTIPLIER_LIMIT*80,i=5,n=6;this.context.fillStyle="rgba(40,40,40,0.8)",this.context.arc(e,i,n,0,2*Math.PI,!0),this.context.fill(),t<this.multiplier.major&&(this.context.beginPath(),this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,this.context.shadowBlur=14,this.context.shadowColor="rgba(255,0,255, 0.9)",this.context.fillStyle="rgba(255,0,255, 0.9)",t<this.multiplier.major-1?this.context.arc(e,i,n,0,2*Math.PI,!0):(this.context.fillStyle="rgba(255,0,255,"+.8*this.multiplier.minor+")",this.context.arc(e,i,n*this.multiplier.minor,0,2*Math.PI,!1)),this.context.fill()),this.context.restore()}this.context.restore(),this.invalidate(0,0,this.world.width,s.HEADER_HEIGHT+5)}findIntersections(){const t=[];for(let e=this.player.trail.length;e>0;e--){const i=this.player.trail[e],s=this.player.trail[e+1];for(let n=this.player.trail.length;n>0;n--)if(Math.abs(e-n)>1){const h=this.player.trail[n],o=this.player.trail[n+1];if(i&&s&&h&&o){const r=this.findLineIntersection(i,s,h,o);r&&t.push([Math.min(e,n),Math.max(e,n),r])}}}for(this.intersections=[];t.length;){var e=t.pop();for(let t=this.intersections.length;t>0;t--)e&&this.intersections[t]&&e[0]===this.intersections[t][0]&&e[1]===this.intersections[t][1]&&(e=null);e&&this.intersections.push(e)}}findLineIntersection(t,e,i,s){const n=e.x-t.x,h=e.y-t.y,o=s.x-i.x,r=s.y-i.y,a=(-h*(t.x-i.x)+n*(t.y-i.y))/(-o*h+n*r),l=(o*(t.y-i.y)-r*(t.x-i.x))/(-o*h+n*r);return a>=0&&a<=1&&l>=0&&l<=1?{x:t.x+l*n,y:t.y+l*h}:null}solveIntersections(){for(;this.intersections.length;){var t=this.intersections.pop();this.context.beginPath();const e=this.player.trail.slice(t[0],t[1]);e[0]=t[2],e.push(t[2]);const i=new u;for(let t=0,s=e.length;t<s;t++){const s=e[t],n=e[t+1];0===t?this.context.moveTo(s.x,s.y):s&&n&&this.context.quadraticCurveTo(s.x,s.y,s.x+(n.x-s.x)/2,s.y+(n.y-s.y)/2),i.inflate(s.x,s.y)}const s=i.center(),n=this.context.createRadialGradient(s.x,s.y,0,s.x,s.y,i.size());n.addColorStop(1,"rgba(255,0,255, 0.0)"),n.addColorStop(0,"rgba(255,0,255, 0.2)"),this.context.fillStyle=n,this.context.closePath(),this.context.fill()}if(this.frameCount%2==1){var e=this.context.getImageData(0,0,this.world.width,this.world.height),i=e.width,n=e.data,h=[];for(let t=this.enemies.length-1;t>=0;t--)for(var o=this.enemies[t],r=Math.round(o.x),a=Math.round(o.y),l=[4*(a*i+Math.round(r-s.ENEMY_SIZE)),4*(a*i+Math.round(r+s.ENEMY_SIZE)),4*(Math.round(a-s.ENEMY_SIZE)*i+r),4*(Math.round(a+s.ENEMY_SIZE)*i+r)],c=l.length;c--;){var d=l[c];if(n[d+1]>=0&&n[d+2]>=200){o.type===s.ENEMY_TYPE_BOMB||o.type===s.ENEMY_TYPE_BOMB_MOVER?this.handleBombInClosure(o):(this.handleEnemyInClosure(o),h.push(o)),this.enemies.splice(t,1);break}}if(h.length>1){var m=this.adjustScore(h.length*s.SCORE_PER_ENEMY);this.notify(m,this.player.x,this.player.y-10,h.length/1.5,[250,250,100])}}}updateEnemies(){let t,e=0;for(let t=this.enemies.length-1;t>=0;t--)this.enemies[t].type===s.ENEMY_TYPE_BOMB&&e++;const i=e/this.enemies.length<.4;let n=Math.floor(s.ENEMY_COUNT+this.difficulty)-this.enemies.length;for(;n--&&Math.random()>.85;){let e=s.ENEMY_TYPE_NORMAL;i&&(e=Math.random()>.5?e:s.ENEMY_TYPE_BOMB),(t=new l).x=60+Math.round(Math.random()*(this.world.width-60-60)),t.y=60+Math.round(Math.random()*(this.world.height-60-60)),t.type=e,this.enemies.push(t)}for(let e=this.enemies.length-1;e>=0;e--)(t=this.enemies[e]).time=Math.min(t.time+.2*this.timeFactor,100),t.scale+=.3*(t.scaleTarget-t.scale+.01),t.alpha+=.1*(t.alphaTarget-t.alpha),t.alive&&100===t.time&&(t.type===s.ENEMY_TYPE_BOMB?this.handleBombDeath(t):(this.handleEnemyDeath(t),this.enemies.splice(e,1)),t.alive=!1),!1===t.alive&&0===t.alphaTarget&&t.alpha<.05&&this.enemies.splice(e,1)}renderEnemies(){for(let h=this.enemies.length-1;h>=0;h--){var t=this.enemies[h],e=null;t.type===s.ENEMY_TYPE_BOMB?e=this.sprites.bomb:(e=this.sprites.enemy,t.time>65&&(e=this.sprites.enemyDyingA,Math.round(t.time)%2==0&&(e=this.sprites.enemyDyingB))),this.context.save(),this.context.globalAlpha=t.alpha,this.context.translate(Math.round(t.x),Math.round(t.y)),this.context.scale(t.scale,t.scale),this.context.drawImage(e,-Math.round(e.width/2),-Math.round(e.height/2)),this.context.restore();var i=e.width*t.scale+4,n=e.height*t.scale+4;this.invalidate(t.x-i/2,t.y-i/2,i,n)}}handleBombDeath(t){t.alphaTarget=0,t.scaleTarget=.01}handleEnemyDeath(t){this.dieSound.currentTime=0,this.dieSound.play(),this.player.adjustEnergy(s.ENERGY_PER_ENEMY_DEATH),this.multiplier.reset(),this.failSound.currentTime=0,this.failSound.play(),this.emitParticles("#eeeeee",t.x,t.y,3,15),this.notify(s.ENERGY_PER_ENEMY_DEATH+"♥",t.x,t.y,1.2,[230,90,90])}emitParticles(t,e,i,s,n){for(;n--;)this.particles.push(new c(e,i,s,t))}updateParticles(){for(let t=this.particles.length-1;t>=0;t--){const e=this.particles[t];e.x+=e.velocity.x,e.y+=e.velocity.y,e.velocity.x*=.98,e.velocity.y*=.98,!0===e.fading?e.alpha*=.92:Math.random()>.92&&(e.fading=!0),e.alpha<.05&&this.particles.splice(t,1)}}renderParticles(){for(let t=this.particles.length-1;t>=0;t--){const e=this.particles[t];this.context.save(),this.context.globalAlpha=e.alpha,this.context.fillStyle=e.color,this.context.fillRect(e.x,e.y,3,3),this.context.restore(),this.invalidate(e.x-2,e.y-2,6,6)}}notify(t,e,i,s,n){this.notifications.push(new d(t,e,i,s,n))}renderNotifications(){for(let t=this.notifications.length-1;t>=0;t--){const e=this.notifications[t];e.y-=.4;let i=14*e.scale;this.context.save(),this.context.font="bold "+Math.round(12*e.scale)+"px Arial",this.context.beginPath(),this.context.fillStyle="rgba(0,0,0,"+.7*e.alpha+")",this.context.arc(e.x,e.y,i,0,2*Math.PI,!0),this.context.fill(),this.context.fillStyle="rgba( "+e.rgb[0]+", "+e.rgb[1]+", "+e.rgb[2]+", "+e.alpha+" )",this.context.fillText(e.text,e.x-.5*this.context.measureText(e.text).width,e.y+4*e.scale),this.context.restore(),e.alpha*=1-.08*(1-(e.alpha-.08)/1),e.alpha<.05&&this.notifications.splice(t,1),i+=2,this.invalidate(e.x-i,e.y-i,2*i,2*i)}}handleEnemyInClosure(t){this.killSound.currentTime=0,this.killSound.play(),this.player.adjustEnergy(s.ENERGY_PER_ENEMY_ENCLOSED);const e=this.multiplier.major;this.multiplier.increase(),this.multiplier.major>e&&(this.notify("X"+this.multiplier.major,this.world.width/2,this.world.height/2,this.multiplier.major,[60,250,130]),this.upgradeSound.currentTime=0,this.upgradeSound.play()),this.emitParticles("#eeeeee",t.x,t.y,3,6);const i=this.adjustScore(s.SCORE_PER_ENEMY);this.notify(""+Math.floor(i),t.x,t.y)}handleBombInClosure(t){this.killbombSound.currentTime=0,this.killbombSound.play(),this.player.adjustEnergy(s.ENERGY_PER_BOMB_ENCLOSED),this.multiplier.reset(),this.failSound.currentTime=0,this.failSound.play(),this.notify(s.ENERGY_PER_BOMB_ENCLOSED+"♥",t.x,t.y,1.2,[230,90,90])}},f=i(0),y=i.n(f);let p,x,E,g,w;document.addEventListener("DOMContentLoaded",()=>{M()});const M=()=>{p=document.getElementById("game"),E=document.getElementById("game-canvas"),g=document.getElementById("bgm"),w=document.getElementById("mute-button");const t=document.getElementById("start-button");x=new m,E&&E.getContext?(x.context=E.getContext("2d"),t.addEventListener("click",v,!1),w.addEventListener("click",T,!1),document.addEventListener("mousemove",S,!1),E.addEventListener("touchstart",I,!1),E.addEventListener("touchmove",P,!1),window.addEventListener("resize",_,!1),_(),s.TOUCH_INPUT&&b(),x.createSprites(),x.reset(),x.update()):alert("Your browser doesn't) support HTML5 canvas")},b=()=>{const t=document.getElementsByTagName("audio");for(let e=0;e<t.length;e++)t[e].muted=!0;w.innerHTML="UNMUTE"},v=t=>{t.preventDefault(),x.start()},T=t=>{t.preventDefault();const e=document.getElementsByTagName("audio");if(!0===g.muted){for(let t=0;t<e.length;t++)e[t].muted=!1;w.innerHTML="MUTE"}else{for(let t=0;t<e.length;t++)e[t].muted=!0;w.innerHTML="UNMUTE"}},S=t=>{x.mouse.previousX=x.mouse.x,x.mouse.previousY=x.mouse.y,x.mouse.x=t.clientX-.5*(window.innerWidth-x.world.width),x.mouse.y=t.clientY-.5*(window.innerHeight-x.world.height)-30,x.mouse.velocityX=Math.abs(x.mouse.x-x.mouse.previousX)/x.world.width,x.mouse.velocityY=Math.abs(x.mouse.y-x.mouse.previousY)/x.world.height},_=()=>{s.TOUCH_INPUT?(x.world.width=window.innerWidth,x.world.height=y()()-150,document.getElementById("main").style.alignItems="flex-start"):(x.world.width=window.innerWidth<s.DEFAULT_WIDTH?window.innerWidth:s.DEFAULT_WIDTH,x.world.height=window.innerHeight<s.DEFAULT_HEIGHT?window.innerHeight:s.DEFAULT_HEIGHT),p.style.width=x.world.width,p.style.height=x.world.height,E.width=x.world.width,E.height=x.world.height},I=t=>{1==t.touches.length&&(t.preventDefault(),x.mouse.x=t.touches[0].pageX-.5*(window.innerWidth-x.world.width),x.mouse.y=t.touches[0].pageY-.5*(y()()-x.world.height))},P=t=>{1==t.touches.length&&(t.preventDefault(),x.mouse.x=t.touches[0].pageX-.5*(window.innerWidth-x.world.width),x.mouse.y=t.touches[0].pageY-.5*(y()()-x.world.height)+20)}}]);